---
layout: default
---

# V2改善: プログラムグラフによる仕様形式化

<div class="grid grid-cols-2 gap-6 mt-2">

<!-- 左側: プログラムグラフ -->
<div>
<img src="/images/program_graph_eip4844.png" class="w-full rounded border shadow" />
</div>
<!-- 右側: V2フェーズと成果物 -->
<div class="text-sm">

| フェーズ | 成果物 | V1課題への対応 |
|---------|--------|---------------|
| **SPEC** | ノード、エッジ、データ構造 | 仕様の細部を網羅 + スコープ拡大 |
| **TRUSTMODEL** | アクター、境界エッジ | 脅威モデル不整合を解消 |
| **CHECKLIST** | 220項目 | 粒度向上 |
| **AUDITMAP** | 静的監査レポート | — |

<div class="mt-2 p-1.5 bg-gray-100 rounded text-xs text-center">
<span class="text-gray-500">未対応:</span> タイミング/並行性（静的分析の限界）
</div>

</div>

</div>

<!--
V1で高・中重大度を見逃した原因を分析し、V2では4つのフェーズで改善しました。

左の図はEIP-4844のBLOBHASH opcodeをプログラムグラフとして形式化した例です。

V2では、誤検知の最大原因だった脅威モデル不整合についてはTRUSTMODELフェーズで信頼境界を形式化することで対応しました。仕様の細部や暗黙の前提についてはグラフ化とチェックリストの粒度向上で対応し、外部ライブラリについてはスコープを拡大しました。

一方、タイミングや並行性の問題は静的分析の限界であり、今後の課題として残っています。

V2を用いて、見逃された脆弱性に対してチェックが実行されることを確認しましたが、大規模な実証評価は今後の課題です。
-->
