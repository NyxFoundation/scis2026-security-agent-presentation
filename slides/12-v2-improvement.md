---
layout: default
---

# V2改善: プログラムグラフによる仕様形式化

<div class="grid grid-cols-2 gap-6 mt-4">

<!-- 左側: プログラムグラフ -->
<div>
<img src="/images/program_graph_eip4844.png" class="w-full rounded border shadow" />
<div class="text-xs text-center text-gray-500 mt-2">EIP-4844 BLOBHASH: 状態・遷移・ガード条件をグラフ化</div>
</div>

<!-- 右側: V2フェーズと成果物 -->
<div class="text-sm">

| フェーズ | 成果物 |
|---------|--------|
| **SPEC** | ノード、エッジ、データ構造 |
| **TRUSTMODEL** | アクター、境界エッジ |
| **CHECKLIST** | チェック項目 (220項目) |
| **AUDITMAP** | チェック項目ごとに静的監査 |

<div class="mt-4 p-3 bg-green-50 border-l-4 border-green-500">

**V1見逃し原因への対策**

- 複雑な状態遷移 → **グラフのパスで明示化**
- 動的境界条件 → **エッジにガード条件を記述**
- 仕様ニュアンス → **プロパティとして体系化**

</div>

</div>

</div>

<!--
V1で高・中重大度を見逃した原因を分析し、V2では4つのフェーズで改善しました。

左の図はイーサリアムのEIP-4844という、ある仕様をプログラムグラフとして形式化した例です。状態ノード、アクションノード、条件分岐エッジが明示的に表現されています。

V1で見逃した「複雑な状態遷移」はグラフのパスとして、「動的境界条件」はエッジのガード条件として表現されます。

V2を実際に用いて、最新の一つのクライアント実装では監査コンテストで見逃された部分にもチェックが実行されたことを確認していますが、大規模な実証評価は今後の課題です。
-->
